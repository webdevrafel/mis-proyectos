/* ==========================================================================
   MEJORAS PARA MÁXIMA COMPATIBILIDAD RESPONSIVE
   ========================================================================== */

/* 1. META VIEWPORT REQUERIDO EN HTML */
/* <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"> */

/* 2. BREAKPOINTS ADICIONALES PARA MEJOR COBERTURA */
:root {
    /* Breakpoints existentes mejorados */
    --bp-xs: 320px;    /* iPhone SE, Galaxy Fold */
    --bp-sm: 375px;    /* iPhone standard */
    --bp-md: 414px;    /* iPhone Plus */
    --bp-lg: 768px;    /* Tablets */
    --bp-xl: 1024px;   /* Desktop */
    --bp-xxl: 1440px;  /* Large screens */
}

/* 3. MEJORAS PARA DISPOSITIVOS MUY PEQUEÑOS (320px-374px) */
@media (max-width: 374px) {
    /* Hero section adjustments */
    .hero {
        padding: 3rem 0.5rem 1rem;
        min-height: 90vh; /* Reduce height on very small screens */
    }
    
    .hero__title {
        font-size: clamp(1.8rem, 6vw, 2.2rem);
        line-height: 1.2;
    }
    
    .hero__subtitle {
        font-size: clamp(1rem, 4vw, 1.2rem);
    }
    
    .hero__description {
        font-size: 0.9rem;
        padding: 0 0.5rem;
    }
    
    /* Header adjustments */
    .header {
        padding: 0.5rem 1rem;
    }
    
    .header__logo {
        width: 40px;
        height: 40px;
    }
    
    /* Mobile nav improvements */
    .mobile-nav {
        width: 100%; /* Full width on very small screens */
        padding: 4rem 1rem 1rem;
    }
    
    /* CTA buttons */
    .cta-button, .cta-button-secondary {
        min-width: 120px;
        padding: 0.7rem 1.2rem;
        font-size: 0.9rem;
    }
    
    /* Services cards */
    .service__card {
        padding: 1.2rem;
        margin: 0 0.5rem;
    }
    
    .service__icon {
        font-size: 2.5rem;
    }
    
    .service__title {
        font-size: 1.2rem;
    }
    
    /* Skills section */
    .skill__item {
        padding: 1.2rem;
        margin: 0 0.5rem;
    }
    
    /* Portfolio adjustments */
    .portfolio__project {
        min-height: 200px;
        margin: 0 0.5rem;
    }
    
    .portfolio__project-name {
        font-size: 1.2rem;
        padding: 1rem;
    }
    
    /* Form improvements */
    .form__form {
        padding: 1.2rem;
        margin: 0 0.5rem;
    }
    
    .form__input,
    .form__textarea {
        padding: 0.8rem;
        font-size: 0.9rem;
    }
    
    /* WhatsApp button */
    .whatsapp-btn {
        padding: 0.6rem;
        right: 0.5rem;
        bottom: 0.5rem;
        border-radius: 50%;
        width: 50px;
        height: 50px;
    }
    
    .whatsapp-btn span,
    .whatsapp-btn .whatsapp-text {
        display: none;
    }
}

/* 4. MEJORAS PARA PANTALLAS MEDIANAS (375px-413px) */
@media (min-width: 375px) and (max-width: 413px) {
    .hero__container {
        gap: 2rem;
    }
    
    .services__grid,
    .skills__grid,
    .portfolio__grid {
        gap: 1.5rem;
        padding: 0 0.5rem;
    }
}

/* 5. MEJORAS PARA TABLETS EN ORIENTACIÓN PORTRAIT (768px-1023px) */
@media (min-width: 768px) and (max-width: 1023px) and (orientation: portrait) {
    .hero__container {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .services__grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .portfolio__grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* 6. MEJORAS PARA PANTALLAS LANDSCAPE EN MÓVILES */
@media (max-height: 500px) and (orientation: landscape) {
    .hero {
        min-height: 100vh;
        padding: 2rem 1rem;
    }
    
    .hero__container {
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        align-items: center;
    }
    
    .hero__content {
        text-align: left;
    }
    
    .hero__img {
        width: 200px;
        height: 200px;
    }
    
    /* Reduce section paddings in landscape */
    .services,
    .skills,
    .portfolio,
    .form {
        padding: 2rem 1rem;
    }
}

/* 7. MEJORAS PARA ALTO CONTRASTE Y ACCESIBILIDAD */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .animated-bg {
        animation: none;
    }
    
    .particles {
        display: none;
    }
}

@media (prefers-contrast: high) {
    :root {
        --text-muted: #ffffff;
        --glass-border: rgba(255, 255, 255, 0.8);
    }
    
    .service__card,
    .skill__item,
    .portfolio__project,
    .form__form {
        border: 2px solid var(--accent-color);
    }
}

/* 8. MEJORAS PARA PANTALLAS ULTRA ANCHAS */
@media (min-width: 1440px) {
    .hero__container,
    .services__container,
    .skills__container,
    .portfolio__container,
    .form__container {
        max-width: 1400px;
    }
    
    .services__grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .portfolio__grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* 9. MEJORAS PARA DISPOSITIVOS PLEGABLES Y PANTALLAS ESPECIALES */
@media (min-width: 280px) and (max-width: 320px) {
    /* Galaxy Fold y dispositivos muy pequeños */
    .hero__title {
        font-size: 1.6rem;
    }
    
    .services__grid,
    .skills__grid,
    .portfolio__grid {
        grid-template-columns: 1fr;
        gap: 1rem;
        margin: 0;
    }
    
    .service__card,
    .skill__item,
    .portfolio__project {
        margin: 0;
    }
    
    .header {
        padding: 0.3rem 0.8rem;
    }
    
    .form__form {
        margin: 0;
        padding: 1rem;
    }
}

/* 10. MEJORAS PARA CONTENEDORES FLEXIBLES */
.hero__container,
.services__container,
.skills__container,
.portfolio__container,
.form__container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 clamp(1rem, 5vw, 2rem);
}

/* 11. MEJORAS PARA IMÁGENES Y MEDIA */
.hero__img {
    max-width: 100%;
    height: auto;
    width: clamp(200px, 30vw, 300px);
    height: clamp(200px, 30vw, 300px);
}

/* 12. MEJORAS PARA TOUCH TARGETS (mínimo 44px) */
.header__nav-item a,
.cta-button,
.cta-button-secondary,
.form__submit,
.whatsapp-btn,
.scroll-to-top {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* 13. MEJORAS PARA TEXTO Y LEGIBILIDAD */
@media (max-width: 480px) {
    body {
        font-size: clamp(14px, 4vw, 16px);
        line-height: 1.6;
    }
    
    h1, h2, h3, .hero__title, .services__title, .skills__title, .portfolio__title, .form__title {
        line-height: 1.2;
        word-wrap: break-word;
        hyphens: auto;
    }
}

/* 14. MEJORAS PARA SCROLL HORIZONTAL EN MÓVILES */
html, body {
    overflow-x: hidden;
    max-width: 100vw;
}

* {
    max-width: 100%;
}

/* 15. MEJORAS PARA SAFE AREAS (iPhone X+) */
@supports (padding: max(0px)) {
    .header {
        padding-left: max(2rem, env(safe-area-inset-left));
        padding-right: max(2rem, env(safe-area-inset-right));
    }
    
    .whatsapp-btn {
        bottom: max(2rem, env(safe-area-inset-bottom));
        right: max(2rem, env(safe-area-inset-right));
    }
    
    .scroll-to-top {
        bottom: max(5rem, calc(5rem + env(safe-area-inset-bottom)));
        right: max(2rem, env(safe-area-inset-right));
    }
}

/* 16. MEJORAS PARA GRIDS EN DISPOSITIVOS PEQUEÑOS */
@media (max-width: 480px) {
    .services__grid,
    .skills__grid,
    .portfolio__grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        justify-items: center;
    }
    
    .service__card,
    .skill__item,
    .portfolio__project {
        width: 100%;
        max-width: 350px;
    }
}

/* 17. MEJORAS DE PERFORMANCE PARA MÓVILES */
@media (max-width: 768px) {
    .animated-bg {
        animation-duration: 30s; /* Más lento para mejor performance */
    }
    
    .particle {
        animation-duration: 40s;
    }
    
    /* Reduce particles on mobile for better performance */
    .particle:nth-child(n+6) {
        display: none;
    }
}
